!function n(o,i,a){function c(t,e){if(!i[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=i[t]={exports:{}},o[t][0].call(r.exports,function(e){return c(o[t][1][e]||e)},r,r.exports,n,o,i,a)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=n(e("@babel/runtime/regenerator")),i=n(e("@babel/runtime/helpers/asyncToGenerator")),a=n(e("./modules/color-picker.js")),c=n(e("./modules/image-picker.js")),u={fn:{eventListener:function(t,r,n){return(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.split(" ").forEach(function(e){document.addEventListener(e,function(e){e.target.matches(r)&&n(e)})});case 2:case"end":return e.stop()}},e)}))()},setAttribute:function(e,t,r){e&&t&&0!==(e=document.querySelectorAll(e)).length&&e.forEach(function(e){e.setAttribute(t,r)})},setValue:function(e,t){e&&0!==(e=document.querySelectorAll(e)).length&&e.forEach(function(e){e.value=t})},getListTableFirstRow:function(){return document.querySelector("#the-list > tr:first-child > th:first-child")},getLinearColor:function(e){var o,i,a,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"-45deg";return 0!==e.length&&Array.isArray(e)?(o="".concat(t,", "),i=e.length,a=100/i,e.forEach(function(e,t){var r=a*(t+=1),n=r-a;o=(o+="".concat(e," ").concat(n,"%, ").concat(e," ").concat(r,"% "))+(t<i?",":"")}),"repeating-linear-gradient( ".concat(o," )")):"#ffffff"},isValidHexColor:function(e){return!!e&&/^#([0-9A-F]{3}){1,2}$/i.test(e)}},swatch:{setColorToDefault:function(){var e=document.getElementById("hvsfw-color-picker-swatch");e&&a.default.setToDefault(e)},setImageToDefault:function(){var e=document.getElementById("hvsfw-image-picker-swatch");e&&c.default.setToDefault(e)},renderColorPreviewer:function(){var e,t,r=document.querySelectorAll('input[name="hvsfw_color_swatch[]"]');0!==r.length&&0!==(r=Array.from(r).map(function(e){e=e.value;return u.fn.isValidHexColor(e)?e:"#ffffff"})).length&&((e=document.createElement("td")).className="hvsfw_color column-hvsfw_color",e.setAttribute("data-colname","Color"),e.innerHTML='\n\t\t\t<div class="hvsfw-preview hvsfw-preview__color" style="background: '.concat(u.fn.getLinearColor(r),'"></div>\n\t\t'),t=u.fn.getListTableFirstRow())&&t.after(e)},renderImagePreviewer:function(){var e,t,r=document.getElementById("hvsfw-image-picker-swatch");r&&(r=r.querySelector(".hvsfw-image-picker__img"))&&(e=r.getAttribute("src"),t=r.getAttribute("title"),r=r.getAttribute("alt"),e)&&(e='\n\t\t\t<div class="hvsfw-preview hvsfw-preview__image">\n    \t\t\t<img class="hvsfw-preview__image__img" src="'.concat(e,'" alt="').concat(r,'" title="').concat(t,'">\n\t\t\t</div>\n\t\t'),(r=document.createElement("td")).className="hvsfw_image column-hvsfw_image",r.setAttribute("data-colname","Image"),r.innerHTML=e,t=u.fn.getListTableFirstRow())&&t.after(r)}},tooltip:{init:function(){this.onChangeTypeField()},setToDefault:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"set",t=document.getElementById("hvsfw-image-picker-tooltip");t&&c.default.setToDefault(t),u.fn.setAttribute(".hvsfw-field__tooltip","data-visible","no"),u.fn.setValue("#hvsfw_tooltip_text",""),u.fn.setValue("#hvsfw_tooltip_html",""),"reset"===e&&u.fn.setValue("#hvsfw_tooltip_type","none")},onChangeTypeField:function(){u.fn.eventListener("change","#hvsfw_tooltip_type",function(e){e=e.target.value;e&&["none","text","image","html"].includes(e)&&(u.tooltip.setToDefault(),u.fn.setAttribute('.hvsfw-field__tooltip[data-type="'.concat(e,'"]'),"data-visible","yes"))})}},wpListTable:{tableElem:null,init:function(){this.constructor()&&(this.reposition(),this.screenResize())},constructor:function(){return!!this.setElementProperties()},setElementProperties:function(){var e=document.getElementById("the-list");return!!e&&(u.wpListTable.tableElem=e,!0)},getColumnData:function(){var e,t=u.wpListTable.tableElem,r=t.querySelectorAll(".column-hvsfw_color"),t=t.querySelectorAll(".column-hvsfw_image");return 0===r.length&&0===t.length?{}:(e={},0<r.length&&(e.type="color",e.columns=r),0<t.length&&(e.type="image",e.columns=t),e)},reposition:function(){var o,i=this.getColumnData();"type"in i&&(o=window.innerWidth,i.columns.forEach(function(e){var t=e.closest("tr.level-0"),r=t.querySelector("th:first-child"),n=t.querySelector("td:last-child");t&&r&&n&&(o<=782&&(n.classList.contains("hvsfw_".concat(i.type))||n.after(e)),783<=o)&&r&&!r.nextElementSibling.classList.contains("hvsfw_".concat(i.type))&&r.after(e)}))},screenResize:function(){window.addEventListener("resize",function(){u.wpListTable.reposition()})}},ajax:{init:function(){this.onSuccess()},onSuccess:function(){jQuery(document).ajaxSuccess(function(e,t,r){var r=r.data.split("&"),n={};r.forEach(function(e){e=e.split("="),n[e[0]]=e[1]}),"add-tag"===n.action&&(u.swatch.renderColorPreviewer(),u.swatch.setColorToDefault(),u.swatch.renderImagePreviewer(),u.swatch.setImageToDefault(),u.tooltip.setToDefault("reset"),u.wpListTable.reposition())})}},domReady:{execute:function(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)}}};u.domReady.execute(function(){a.default.init(),c.default.init(),u.tooltip.init(),u.wpListTable.init(),u.ajax.init()})},{"./modules/color-picker.js":2,"./modules/image-picker.js":3,"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":8}],2:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(e("@babel/runtime/regenerator"))),i=n(e("@babel/runtime/helpers/asyncToGenerator")),a={init:function(){this.setColorPicker(),this.addNewField(),this.deleteField()},eventListener:function(t,r,n){return(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.split(" ").forEach(function(e){document.addEventListener(e,function(e){e.target.matches(r)&&n(e)})});case 2:case"end":return e.stop()}},e)}))()},setColorPicker:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"set",e=1<arguments.length?arguments[1]:void 0,r=".hvsfw-color-picker__input",n=document.querySelectorAll(r);0!==(n=e?e.querySelectorAll(r):n).length&&n.forEach(function(e){jQuery(e).wpColorPicker(),"reset"===t&&jQuery(e).iris("color","#ffffff")})},setCount:function(e){var t;e&&(t=e.querySelector(".hvsfw-color-picker__list"))&&e.setAttribute("data-count",t.childElementCount)},setToDefault:function(e){var t=Array.from(document.querySelectorAll(".hvsfw-color-picker"));0!==(t=e?[e]:t).length&&t.forEach(function(e){var t=e.querySelectorAll(".hvsfw-color-picker__item");1<t.length&&t.forEach(function(e,t){0!==t&&e.remove()}),a.setCount(e),a.setColorPicker("reset",e)})},field:function(e){var t;if(e)return(t=document.createElement("div")).className="hvsfw-color-picker__item",t.innerHTML='\n            <div class="hvsfw-col__left">\n                <input type="hidden" name="'.concat(e,'" class="hvsfw-color-picker__input" value="#ffffff">\n            </div>\n            <div class="hvsfw-col__right">\n                <button type="button" class="hvsfw-js-color-picker-delete-btn hvsfw-color-picker__delete-btn button">Delete</button>\n            </div>\n        '),t},addNewField:function(){this.eventListener("click",".hvsfw-js-color-picker-add-btn",function(e){e.preventDefault();var t,r,e=e.target.closest(".hvsfw-color-picker");e&&(t=e.querySelector(".hvsfw-color-picker__list"))&&(r=t.querySelector(".hvsfw-color-picker__input"))&&(r=r.getAttribute("name"))&&(r=a.field(r))&&(t.appendChild(r),a.setColorPicker("set",e),a.setCount(e))})},deleteField:function(){this.eventListener("click",".hvsfw-js-color-picker-delete-btn",function(e){e.preventDefault();var e=e.target,t=e.closest(".hvsfw-color-picker"),e=e.closest(".hvsfw-color-picker__item");t&&e&&(e.remove(),a.setCount(t))})}};r.default=a},{"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":8}],3:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(e("@babel/runtime/regenerator"))),i=n(e("@babel/runtime/helpers/asyncToGenerator")),a={init:function(){this.uploadImage(),this.removeImage()},eventListener:function(t,r,n){return(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.split(" ").forEach(function(e){document.addEventListener(e,function(e){e.target.matches(r)&&n(e)})});case 2:case"end":return e.stop()}},e)}))()},setToDefault:function(e){var t=Array.from(document.querySelectorAll(".hvsfw-image-picker"));0!==(t=e?[e]:t).length&&t.forEach(function(e){var t,r=e.querySelector(".hvsfw-image-picker-input"),n=e.querySelector(".hvsfw-image-picker__img"),e=e.querySelector(".hvsfw-js-image-picker-remove-btn");r&&n&&e&&(t=n.getAttribute("data-default"),r.value=0,n.setAttribute("src",t),n.setAttribute("alt","WooCommerce Placeholder"),n.setAttribute("title","WooCommerce Placeholder"),e.setAttribute("data-state","disabled"))})},uploadImage:function(){this.eventListener("click",".hvsfw-js-image-picker-select-btn",function(e){e.preventDefault();var t,r,n,o,e=e.target;"default"===e.getAttribute("data-state")&&(e=e.closest(".hvsfw-image-picker"))&&(t=e.querySelector(".hvsfw-image-picker-input"),r=e.querySelector(".hvsfw-image-picker__img"),n=e.querySelector(".hvsfw-js-image-picker-remove-btn"),t)&&r&&n&&((o=wp.media({title:"Select Image",library:{type:"image"},button:{text:"Use Image"},multiple:!1})).open(),o.on("select",function(){var e=o.state().get("selection").toJSON();t.value=e[0].id,r.setAttribute("src",e[0].url),r.setAttribute("alt",e[0].alt),r.setAttribute("title",e[0].title),n.setAttribute("data-state","default")}))})},removeImage:function(){this.eventListener("click",".hvsfw-js-image-picker-remove-btn",function(e){e.preventDefault();var e=e.target;"default"===e.getAttribute("data-state")&&(e=e.closest(".hvsfw-image-picker"))&&a.setToDefault(e)})}};r.default=a},{"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":8}],4:[function(e,t,r){function u(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}t.exports=function(c){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=c.apply(e,a);function o(e){u(n,t,r,o,i,"next",e)}function i(e){u(n,t,r,o,i,"throw",e)}o(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],5:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],6:[function(e,k,t){var E=e("./typeof.js").default;function r(){"use strict";k.exports=function(){return a},k.exports.__esModule=!0,k.exports.default=k.exports;var a={},e=Object.prototype,u=e.hasOwnProperty,l=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o,i,a,c,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),n=new _(n||[]);return l(t,"_invoke",{value:(o=e,i=r,a=n,c="suspendedStart",function(e,t){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===e)throw t;return L()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,f;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}(r,a);if(r){if(r===f)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===c)throw c="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c="executing";r=s(o,i,a);if("normal"===r.type){if(c=a.done?"completed":"suspendedYield",r.arg===f)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(c="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=c;var f={};function h(){}function p(){}function d(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&u.call(v,n)&&(t=v),d.prototype=h.prototype=Object.create(t));function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function y(a,c){var t;l(this,"_invoke",{value:function(r,n){function e(){return new c(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==E(r)&&u.call(r,"__await")?c.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):c.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(u.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:L}}function L(){return{value:void 0,done:!0}}return l(m,"constructor",{value:p.prototype=d,configurable:!0}),l(d,"constructor",{value:p,configurable:!0}),p.displayName=i(d,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},g(y.prototype),i(y.prototype,r,function(){return this}),a.AsyncIterator=y,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new y(c(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=u.call(o,"catchLoc"),c=u.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},a}k.exports=r,k.exports.__esModule=!0,k.exports.default=k.exports},{"./typeof.js":7}],7:[function(e,t,r){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},{}],8:[function(t,e,r){t=t("../helpers/regeneratorRuntime")();e.exports=t;try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},{"../helpers/regeneratorRuntime":6}]},{},[1]);
//# sourceMappingURL=hvsfw-term.min.js.map
